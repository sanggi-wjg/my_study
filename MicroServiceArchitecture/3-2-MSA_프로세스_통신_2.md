# MSA 프로세스 통신 2

## 부분 통신 실패 : 회로 차단기 패턴
항상 서비스는 실패할 가능성에 대해  오픈 마인드다.  
한개 서비스 호출 불가는 전체 서비스에 대해 영향을 미침으로 서비스 부분 실패가 전체에 영향 가지 않도록  
설계를 해야 한다. 

### RPI 프록시 설계
Netflix는 다음과 같이 실패에 대해 처리한다.

* **네트워크 타임아웃**: 응답에 대해 항상 Timeout 설정, 불필요한 리소스 사용 방지
* **미처리 요청 개수 제한**: 최대 요청 횟수를 설정하여 초과시 요청을 포기하도록 한다.
* **회로 차단기 패턴**: 서비스에 성공/실패에 대해서 counting을 하고 일정 임계치를 초과하면  그 이후에 요청은 포기한다.

부분 실패시 미리 정해진 default 값이나 캐시된 값 등을 반환하는 방법이 있다.

  
 